/* ═══════════════════════════════════════════════════════════════
   AI Demo Widget v2 — ai-demo-widget.css
   RTL · Hebrew · Dark theme · lior-ai.com
   ═══════════════════════════════════════════════════════════════ */

/* Nudge the accessibility FAB up so it doesn't overlap the widget */
.fab-acc { bottom: 90px !important; }

/* ── TOKENS ──────────────────────────────────────────────────── */
.adw-root {
  --adw-bg:      #0e0e17;
  --adw-card:    #16162a;
  --adw-surface: #1c1c30;
  --adw-border:  rgba(255,255,255,.08);
  --adw-text:    #eef0f8;
  --adw-muted:   #7e84a0;
  --adw-accent:  #00e5a0;
  --adw-accent2: #00b8d4;
  --adw-grad:    linear-gradient(135deg,#00e5a0,#00b8d4);
  --adw-shadow:  0 16px 48px rgba(0,0,0,.65), 0 2px 8px rgba(0,0,0,.35);
  --adw-r:       18px;
  font-family: 'Heebo', Arial, sans-serif;
  direction: rtl;
}

/* ── FAB ─────────────────────────────────────────────────────── */
.adw-fab {
  position: fixed;
  bottom: 22px;
  right: 22px;
  height: 52px;
  padding: 0 20px 0 14px;
  border-radius: 26px;
  background: var(--adw-grad);
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 22px rgba(0,229,160,.42), var(--adw-shadow);
  z-index: 9998;
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  animation: adw-entrance .45s cubic-bezier(.34,1.56,.64,1) both,
             adw-pulse-fab 3s ease-in-out 2.2s 3;
  transition: transform .2s, box-shadow .2s;
}
.adw-fab:hover {
  transform: scale(1.05) translateY(-2px);
  box-shadow: 0 8px 30px rgba(0,229,160,.5), var(--adw-shadow);
}
.adw-fab:active { transform: scale(.98) translateY(0); }

.adw-fab-icon  { font-size: .9rem;  color: #03201a; font-weight: 900; line-height:1; }
.adw-fab-label { font-size: .9rem;  color: #03201a; font-weight: 700; font-family: 'Heebo', Arial, sans-serif; }

@keyframes adw-entrance {
  from { transform: scale(.4) translateY(20px); opacity: 0; }
  to   { transform: scale(1)  translateY(0);    opacity: 1; }
}
@keyframes adw-pulse-fab {
  0%, 100% { box-shadow: 0 4px 22px rgba(0,229,160,.42), var(--adw-shadow); }
  50%       { box-shadow: 0 4px 22px rgba(0,229,160,.42), 0 0 0 10px rgba(0,229,160,.13), var(--adw-shadow); }
}

/* ── PANEL ───────────────────────────────────────────────────── */
.adw-panel {
  position: fixed;
  bottom: 86px;
  right: 22px;
  width: min(364px, calc(100vw - 28px));
  max-height: 74vh;
  background: var(--adw-bg);
  border: 1px solid var(--adw-border);
  border-radius: var(--adw-r);
  box-shadow: var(--adw-shadow);
  z-index: 9997;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  opacity: 0;
  transform: translateY(18px) scale(.95);
  pointer-events: none;
  transform-origin: bottom right;
  transition: opacity .28s cubic-bezier(.4,0,.2,1),
              transform .28s cubic-bezier(.34,1.56,.64,1);
}
.adw-panel.adw-open {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: all;
}

/* ── HEADER ──────────────────────────────────────────────────── */
.adw-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .75rem 1rem;
  background: linear-gradient(135deg,
    rgba(0,229,160,.07) 0%,
    rgba(0,184,212,.04) 100%);
  border-bottom: 1px solid var(--adw-border);
  flex-shrink: 0;
}

.adw-h-left  { display: flex; align-items: center; gap: .55rem; }
.adw-h-right { display: flex; align-items: center; gap: .5rem;  }

.adw-avatar {
  width: 36px; height: 36px; flex-shrink: 0;
  border-radius: 50%;
  background: var(--adw-grad);
  display: flex; align-items: center; justify-content: center;
  font-size: .8rem; font-weight: 900; color: #03201a;
}

.adw-h-title { font-size: .9rem;  font-weight: 700; color: var(--adw-text); line-height: 1.2; }
.adw-h-sub   { font-size: .7rem;  color: var(--adw-muted); line-height: 1; }

.adw-step {
  font-size: .72rem; font-weight: 600; color: var(--adw-accent);
  background: rgba(0,229,160,.1);
  border: 1px solid rgba(0,229,160,.2);
  border-radius: 10px;
  padding: .18rem .5rem;
  white-space: nowrap;
}

.adw-close {
  background: none; border: none;
  color: var(--adw-muted); font-size: 1.45rem;
  cursor: pointer; line-height: 1; padding: 0;
  display: flex; align-items: center;
  transition: color .15s;
}
.adw-close:hover { color: var(--adw-text); }

/* ── BODY ────────────────────────────────────────────────────── */
.adw-body {
  flex: 1; overflow-y: auto;
  padding: .9rem 1rem;
  display: flex; flex-direction: column; gap: .5rem;
  scroll-behavior: smooth;
}
.adw-body::-webkit-scrollbar       { width: 3px; }
.adw-body::-webkit-scrollbar-track { background: transparent; }
.adw-body::-webkit-scrollbar-thumb { background: rgba(255,255,255,.1); border-radius: 3px; }

/* ── BUBBLES ─────────────────────────────────────────────────── */
.adw-bubble {
  max-width: 87%;
  padding: .55rem .85rem;
  border-radius: 14px;
  font-size: .9rem; line-height: 1.6;
  word-break: break-word;
  animation: adw-pop .22s cubic-bezier(.34,1.4,.64,1) both;
}
@keyframes adw-pop {
  from { opacity: 0; transform: translateY(7px) scale(.97); }
  to   { opacity: 1; transform: translateY(0)   scale(1);   }
}

.adw-bubble-bot {
  background: var(--adw-card);
  border: 1px solid var(--adw-border);
  color: var(--adw-text);
  align-self: flex-start;
  border-bottom-right-radius: 4px;
}
.adw-bubble-user {
  background: var(--adw-grad);
  color: #03201a;
  align-self: flex-end;
  font-weight: 600;
  border-bottom-left-radius: 4px;
}

.adw-insight {
  font-style: normal;
  color: var(--adw-accent);
  font-size: .87rem;
}

/* ── TYPING DOTS ─────────────────────────────────────────────── */
.adw-typing {
  display: flex; align-items: center; gap: 5px;
  padding: .6rem .85rem;
  max-width: 68px;
}
.adw-typing span {
  width: 7px; height: 7px; border-radius: 50%;
  background: var(--adw-muted); display: inline-block;
  animation: adw-dot 1.3s infinite ease-in-out;
}
.adw-typing span:nth-child(2) { animation-delay: .2s; }
.adw-typing span:nth-child(3) { animation-delay: .4s; }
@keyframes adw-dot {
  0%, 60%, 100% { transform: scale(.75); opacity: .35; }
  30%            { transform: scale(1.2); opacity: 1;   }
}

/* ── QUICK-REPLY OPTIONS ─────────────────────────────────────── */
.adw-options {
  display: flex; flex-wrap: wrap; gap: .4rem;
  align-self: flex-start;
  animation: adw-pop .22s cubic-bezier(.34,1.4,.64,1) both;
}

.adw-option-btn {
  background: var(--adw-card);
  border: 1px solid var(--adw-accent);
  color: var(--adw-accent);
  border-radius: 20px;
  padding: .42rem .92rem;
  font-size: .86rem; line-height: 1.4;
  cursor: pointer; font-family: inherit;
  transition: background .15s, color .15s, transform .1s, box-shadow .15s;
}
.adw-option-btn:hover {
  background: var(--adw-accent); color: #03201a;
  transform: translateY(-1px);
  box-shadow: 0 3px 12px rgba(0,229,160,.28);
}
.adw-option-btn:active { transform: translateY(0); box-shadow: none; }

/* ── FREE-TEXT INPUT ─────────────────────────────────────────── */
.adw-text-input-wrap {
  display: flex; flex-direction: column; gap: .4rem;
  align-self: stretch;
  animation: adw-pop .22s cubic-bezier(.34,1.4,.64,1) both;
}

.adw-text-input {
  width: 100%; box-sizing: border-box;
  background: var(--adw-card);
  border: 1px solid var(--adw-border);
  border-radius: 10px;
  color: var(--adw-text);
  font-family: inherit; font-size: .88rem;
  padding: .6rem .8rem;
  resize: none; line-height: 1.55; direction: rtl;
  transition: border-color .15s;
}
.adw-text-input:focus    { outline: none; border-color: var(--adw-accent); }
.adw-text-input::placeholder { color: var(--adw-muted); }

.adw-send-btn {
  align-self: flex-start;
  background: var(--adw-grad); border: none;
  border-radius: 8px; padding: .45rem 1rem;
  color: #03201a; font-weight: 700;
  font-family: inherit; font-size: .86rem; cursor: pointer;
  transition: opacity .15s, transform .1s;
}
.adw-send-btn:hover  { opacity: .88; transform: translateY(-1px); }
.adw-send-btn:active { transform: translateY(0); }

/* ── SUMMARY BUBBLE ──────────────────────────────────────────── */
.adw-summary-bubble {
  max-width: 100%; align-self: stretch;
  padding: .9rem 1rem;
}

.adw-sum-header {
  display: flex; align-items: center;
  justify-content: space-between;
  margin-bottom: .7rem;
}
.adw-sum-title {
  font-size: .95rem; font-weight: 700; color: var(--adw-text);
}
.adw-score-badge {
  border-radius: 20px; padding: .22rem .65rem;
  font-size: .76rem; font-weight: 700; white-space: nowrap;
}

.adw-sum-rows {
  display: flex; flex-direction: column; gap: .38rem;
  margin-bottom: .7rem;
}
.adw-sum-row {
  display: grid;
  grid-template-columns: 1.3rem 4.2rem 1fr;
  gap: .2rem .4rem;
  font-size: .85rem; align-items: start;
}
.adw-sum-icon { font-size: .88rem; line-height: 1.5; }
.adw-sum-lbl  { color: var(--adw-muted); line-height: 1.5; white-space: nowrap; }
.adw-sum-val  { color: var(--adw-text);  line-height: 1.5; }

.adw-sum-answers {
  background: rgba(255,255,255,.03);
  border: 1px solid var(--adw-border);
  border-radius: 8px; padding: .5rem .7rem;
  font-size: .82rem;
}
.adw-sum-ans-title {
  font-size: .72rem; font-weight: 700; letter-spacing: .05em;
  color: var(--adw-muted); text-transform: uppercase;
  margin-bottom: .35rem;
}
.adw-ans-row {
  display: flex; gap: .3rem; flex-wrap: wrap;
  color: var(--adw-muted); margin-bottom: .18rem;
}
.adw-ans-lbl { font-weight: 600; }
.adw-ans-row span:last-child { color: var(--adw-text); }

/* ── ACTION BUTTONS ──────────────────────────────────────────── */
.adw-actions {
  display: flex; flex-direction: column; gap: .38rem;
  align-self: stretch;
  animation: adw-pop .25s cubic-bezier(.34,1.4,.64,1) both;
}

.adw-btn {
  display: block; width: 100%; text-align: center;
  border-radius: 10px; padding: .65rem 1rem;
  font-size: .88rem; font-weight: 700;
  font-family: inherit; cursor: pointer;
  text-decoration: none; border: none;
  box-sizing: border-box; line-height: 1.4;
  transition: opacity .15s, transform .12s;
}
.adw-btn:hover  { opacity: .88; transform: translateY(-1px); }
.adw-btn:active { transform: translateY(0); }

.adw-btn-primary   { background: var(--adw-grad); color: #03201a; }
.adw-btn-secondary { background: var(--adw-surface); color: var(--adw-text); border: 1px solid var(--adw-border); }
.adw-btn-ghost     { background: transparent; color: var(--adw-muted); border: 1px solid var(--adw-border); }

.adw-restart {
  background: none; border: none;
  color: var(--adw-muted); font-size: .77rem;
  cursor: pointer; font-family: inherit;
  text-align: center; padding: .2rem;
  text-decoration: underline; transition: color .15s;
}
.adw-restart:hover { color: var(--adw-text); }

/* ── MOBILE ──────────────────────────────────────────────────── */
@media (max-width: 430px) {
  .adw-fab {
    bottom: 16px; right: 12px;
    height: 46px; padding: 0 14px 0 12px;
  }
  .adw-fab-label { font-size: .82rem; }
  .adw-panel {
    bottom: 72px; right: 0;
    width: 100vw; max-height: 80vh;
    border-radius: var(--adw-r) var(--adw-r) 0 0;
    border-left: none; border-right: none; border-bottom: none;
    transform-origin: bottom center;
  }
  .adw-sum-row { grid-template-columns: 1.3rem 3.5rem 1fr; }
}
